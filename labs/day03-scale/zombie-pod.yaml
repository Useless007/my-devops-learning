apiVersion: v1
kind: Pod
metadata:
  name: zombie-app
spec:
  containers:
  - name: zombie
    image: busybox
    # ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï:
    # 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏±‡∏ß‡πÉ‡∏à (/tmp/healthy)
    # 2. ‡∏£‡∏≠ 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á)
    # 3. ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏¥‡πâ‡∏á (‡∏ï‡∏≤‡∏¢!)
    # 4. ‡∏´‡∏•‡∏±‡∏ö‡∏¢‡∏≤‡∏ß (‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏ã‡∏≠‡∏°‡∏ö‡∏µ‡πâ ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡∏°‡∏≤‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£)
    args:
    - /bin/sh
    - -c
    - touch /tmp/healthy; sleep 30; rm -f /tmp/healthy; sleep 600
    
    # ‡∏´‡∏°‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏ä‡∏µ‡∏û‡∏à‡∏£ ü©∫
    readinessProbe:
      exec: # ‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏ä‡πá‡∏Ñ
        command:
        - cat
        - /tmp/healthy
      initialDelaySeconds: 5 # ‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏ö‡∏ö 5 ‡∏ß‡∏¥
      periodSeconds: 5       # ‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡∏∏‡∏Å‡πÜ 5 ‡∏ß‡∏¥