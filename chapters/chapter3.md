
# Chapter 3: The Scaler & Resource Management ‚öñÔ∏è

## 1. Manual Scaling (‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Å‡∏≠‡∏á‡∏ó‡∏±‡∏û) üëØ
‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Pods ‡∏î‡πâ‡∏ß‡∏¢‡∏°‡∏∑‡∏≠

```bash
# ‡∏õ‡∏£‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Pods ‡πÉ‡∏ô Deployment ‡πÄ‡∏õ‡πá‡∏ô 3 ‡∏ï‡∏±‡∏ß
kubectl scale deployment <deployment-name> --replicas=3

# ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£ Scale
kubectl get deployment
kubectl get pods

```

---

## 2. Resource Management (‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡∏°‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤) üìâ

‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Noisy Neighbor ‡πÇ‡∏î‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î Requests (‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥) ‡πÅ‡∏•‡∏∞ Limits (‡πÄ‡∏û‡∏î‡∏≤‡∏ô)

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Config (YAML)

```yaml
resources:
  requests:
    memory: "64Mi"  # ‡∏à‡∏≠‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥
    cpu: "250m"     # 0.25 Core
  limits:
    memory: "128Mi" # ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏Å‡∏¥‡∏ô‡∏ô‡∏µ‡πâ (‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô‡πÇ‡∏î‡∏ô OOMKilled)
    cpu: "500m"     # 0.5 Core (‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏∞‡πÇ‡∏î‡∏ô Throttled ‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ä‡πâ‡∏≤‡∏•‡∏á)

```

### ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

* **OOMKilled:** ‡πÉ‡∏ä‡πâ RAM ‡πÄ‡∏Å‡∏¥‡∏ô Limit -> ‡πÇ‡∏î‡∏ô OS ‡∏Ü‡πà‡∏≤ (Exit Code 137)
* **CrashLoopBackOff:** ‡∏ï‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏ü‡∏∑‡πâ‡∏ô ‡∏ß‡∏ô‡∏•‡∏π‡∏õ (‡∏°‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å OOMKilled ‡∏´‡∏£‡∏∑‡∏≠ Application Error)
* **CPU Throttling/Threading Error:** (‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ö‡∏ô Apple Silicon) ‡∏ñ‡πâ‡∏≤‡∏ï‡∏±‡πâ‡∏á CPU Limit ‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡πÅ‡∏≠‡∏õ‡∏≠‡∏≤‡∏à‡∏™‡∏£‡πâ‡∏≤‡∏á Thread ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏á (Exit Code 2)

---

## 3. Health Checks (‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û) ü©∫

Kubernetes ‡∏°‡∏µ "‡∏´‡∏°‡∏≠" ‡πÅ‡∏•‡∏∞ "‡∏¢‡∏≤‡∏°" ‡∏Ñ‡∏≠‡∏¢‡∏î‡∏π‡πÅ‡∏• Pod

### A. Liveness Probe (‡∏´‡∏°‡∏≠ üíì)

* **‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:** ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ "‡∏¢‡∏±‡∏á‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏´‡∏°?" (Deadlock, Stuck?)
* **‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô:** **Restart Pod** (‡∏Ü‡πà‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà)
* **‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:** ‡πÅ‡∏≠‡∏õ‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏π‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ

### B. Readiness Probe (‡∏¢‡∏≤‡∏° üõ°Ô∏è)

* **‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:** ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ "‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÅ‡∏Ç‡∏Å‡πÑ‡∏´‡∏°?" (Load Config, Connect DB?)
* **‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô:** **‡∏ï‡∏±‡∏î Traffic** (‡πÄ‡∏≠‡∏≤‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Service Endpoint) ‡πÅ‡∏ï‡πà **‡πÑ‡∏°‡πà‡∏Ü‡πà‡∏≤ Pod**
* **‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:** ‡∏ä‡πà‡∏ß‡∏á Start-up ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏≠‡∏ô‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏ô‡∏±‡∏Å‡πÜ

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Config

```yaml
livenessProbe: # ‡∏´‡∏£‡∏∑‡∏≠ readinessProbe
  exec:
    command: ["cat", "/tmp/healthy"]
  initialDelaySeconds: 5 # ‡∏£‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏ß‡∏à
  periodSeconds: 5       # ‡∏ï‡∏£‡∏ß‡∏à‡∏ñ‡∏µ‡πà‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô

```

---

## 4. Troubleshooting Commands (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏™‡∏∑‡∏ö‡∏™‡∏ß‡∏ô) üïµÔ∏è‚Äç‚ôÇÔ∏è

```bash
# ‡∏î‡∏π‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô (Status)
kubectl get pods

# ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å (Events, Reasons, Limits)
kubectl describe pod <pod-name>

# ‡∏î‡∏π‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏ï‡∏≤‡∏¢ (Logs)
kubectl logs <pod-name>
kubectl logs <pod-name> --previous  # ‡∏î‡∏π Log ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏ï‡∏≤‡∏¢‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß

```

---

## 5. Clean Up (‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Å‡∏ß‡∏≤‡∏î) üßπ

```bash
# ‡∏•‡∏ö Deployment
kubectl delete deployment <name>

# ‡∏•‡∏ö Service
kubectl delete service <name>

# ‡∏•‡∏ö Pod (‡∏ñ‡πâ‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß‡πÜ)
kubectl delete pod <name>

# ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ (‡∏î‡∏π‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á)
kubectl get all

```